<!DOCTYPE>
<html>

<head>
  <meta charset="UTF-8" />
</head>
<style>
  .modal {
    float: left;
    margin-right: 20px;
    border: 1px solid #eee;
    padding: 10;
  }
</style>

<body>
  <h1>HTTP请求</h1>
  <div class="modal">
    <h3>responseText</h3>
    <p class="responseText"></p>
  </div>
  <div class="modal">
    <h3>allResponseHeader</h3>
    <p class="requestHeader"></p>
  </div>


  <script>
    let requestData = document.getElementsByClassName("responseText")[0];
    let requestHeader = document.getElementsByClassName("requestHeader")[0];
    let request = new XMLHttpRequest();
    request.open('GET', 'http://127.0.0.1:8080/test.txt');
    request.send();
    request.onreadystatechange = function () {
      console.log(request)
      if (request.readyState == 4) {
        requestData.innerHTML = `<pre>${request.responseText}</pre>`
        requestHeader.innerHTML = `<pre>${request.getAllResponseHeaders()}</pre>`
      }
    }
  </script>
</body>

</html>
